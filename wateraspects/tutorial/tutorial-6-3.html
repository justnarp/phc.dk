<html>
              <!-- This panel generated from the developerWorks XML tag set for tutorials, Version 3.0.2.  (C) Copyright 2000, 2002 IBM Corporation.  All rights reserved. -->
            
<!-- Mirrored from www.phc.dk/wateraspects/tutorial/tutorial-6-3.html by HTTrack Website Copier/3.x [XR&CO'2010], Fri, 27 Aug 2010 12:21:28 GMT -->
<head><META http-equiv="Content-Type" content="text/html; charset=ISO-8859-1"><title>Reading My Own Data in WaterAspects
</title></head><body vlink="000099" alink="33cc00" text="000000" bgcolor="ffffff"><script language="javascript">
<!-- 
var emailAbstract="PH-Consult is proud to present the WaterAspects modelling framework.";
var justTitle="WaterAspects Tutorial";
var tutorialPrereqs="";
var menu1blurb="Introduction"; 
var menu2blurb="Release Notes and Version History"; 
var menu3blurb="Getting Started"; 
var menu4blurb="Modelling with WaterAspects
"; 
var menu5blurb="My First Glass of WaterAspects
"; 
var menu6blurb="Reading My Own Data in WaterAspects
"; 

      var browser = "x";
      if (navigator.userAgent.indexOf("Mozilla/4") != -1) browser = "N3";
      else if (navigator.userAgent.indexOf("Mozilla/3") != -1) browser = "N3";
      else browser = "x";
      
      if (browser=="N3")
      {
    var menu1over=new Image(108,68); 
var menu1out=new Image(108,68); 
var menu2over=new Image(108,68); 
var menu2out=new Image(108,68); 
var menu3over=new Image(108,68); 
var menu3out=new Image(108,68); 
var menu4over=new Image(108,68); 
var menu4out=new Image(108,68); 
var menu5over=new Image(108,68); 
var menu5out=new Image(108,68); 
var menu6over=new Image(108,68); 
var menu6out=new Image(108,68); 

        var topmainover=new Image(77,15);
        var topmainout=new Image(77,15);
        var bottommainover=new Image(77,15);
        var bottommainout=new Image(77,15);
        var topsectionover=new Image(98,15);
        var topsectionout=new Image(98,15);
        var bottomsectionover=new Image(98,15);
        var bottomsectionout=new Image(98,15);
        var topfeedbackover=new Image(80,15);
        var topfeedbackout=new Image(80,15);
        var bottomfeedbackover=new Image(80,15);
        var bottomfeedbackout=new Image(80,15);
        var toppreviousover=new Image(77,15);
        var toppreviousout=new Image(77,15);
        var bottompreviousover=new Image(77,15);
        var bottompreviousout=new Image(77,15);
        var topnextover=new Image(60,15);
        var topnextout=new Image(60,15);
        var bottomnextover=new Image(60,15);
        var bottomnextout=new Image(60,15);
        var topnextsectionover=new Image(108,15);
        var topnextsectionout=new Image(108,15);
        var bottomnextsectionover=new Image(108,15);
        var bottomnextsectionout=new Image(108,15);
      
    menu1over.src="imagemaster/himenu1.jpg"; 
menu1out.src="imagemaster/menu1.jpg"; 
menu2over.src="imagemaster/himenu2.jpg"; 
menu2out.src="imagemaster/menu2.jpg"; 
menu3over.src="imagemaster/himenu3.jpg"; 
menu3out.src="imagemaster/menu3.jpg"; 
menu4over.src="imagemaster/himenu4.jpg"; 
menu4out.src="imagemaster/menu4.jpg"; 
menu5over.src="imagemaster/himenu5.jpg"; 
menu5out.src="imagemaster/menu5.jpg"; 
menu6over.src="imagemaster/himenu6.jpg"; 
menu6out.src="imagemaster/menu6.jpg"; 

        var mainblurb="Main menu";
        var sectionblurb="Section menu";
        var feedbackblurb="Give feedback on this tutorial";
        var previousblurb="Go to previous panel";
        var nextblurb="Go to next panel";
        var nextsectionblurb="Go to next section";

      topmainover.src="../default/i/h-main.gif";
      topmainout.src="../default/i/main.gif";
      bottommainover.src="../default/i/h-main.gif";
      bottommainout.src="../default/i/main.gif";
      topsectionover.src="../default/i/h-section.gif";
      topsectionout.src="../default/i/section.gif";      
      bottomsectionover.src="../default/i/h-section.gif";
      bottomsectionout.src="../default/i/section.gif";      
      topfeedbackover.src="../default/i/h-feedback.gif";
      topfeedbackout.src="../default/i/feedback.gif";
      bottomfeedbackover.src="../default/i/h-feedback.gif";
      bottomfeedbackout.src="../default/i/feedback.gif";
      toppreviousover.src="../default/i/h-previous.gif";
      toppreviousout.src="../default/i/previous.gif";
      bottompreviousover.src="../default/i/h-previous.gif";
      bottompreviousout.src="../default/i/previous.gif";
      topnextover.src="../default/i/h-next.gif";
      topnextout.src="../default/i/next.gif";
      bottomnextover.src="../default/i/h-next.gif";
      bottomnextout.src="../default/i/next.gif";
      topnextsectionout.src="../default/i/nextsection.gif";
      topnextsectionover.src="../default/i/h-nextsection.gif";
      bottomnextsectionout.src="../default/i/nextsection.gif";
      bottomnextsectionover.src="../default/i/h-nextsection.gif";
      }
      function iOut(image)
      {
        if (browser=="N3")document[image].src=eval(image + "out.src");
      }
      function iOver(image)
      {
        if (browser=="N3")document[image].src=eval(image + "over.src");
      }
      // -->
    </script><script src="../default/i/emailfriend.js" language="javascript"></script><a href="#navskip"><img border="0" alt="Skip to main content" src="../default/i/c.gif"></a><table width="100%" cellspacing="0" cellpadding="5" border="0">
		<tr>
			<td bgcolor="#33cc00" width="100%" height="8px"></td>
		</tr>
		<tr>
			<td align="right"><img src="images/phc_logo.gif" alt="PH-Consult"></td>
		</tr>
		<tr>
			<td bgcolor="#000099" width="100%" height="8px"></td>
		</tr>
	</table><table border="0" cellpadding="0" cellspacing="0" width="100%"><tr><td><img src="imagemaster/masthead.jpg" alt="WaterAspects Tutorial"></td><td width="*" valign="bottom" align="right"><a border="0" href="tutorial-ltr.pdf"><img alt="PDF (letter)" border="0" src="../default/i/icon-pdf-ltr.gif"></a><a border="0" href="tutorial-a4.pdf"><img alt="PDF (A4)" border="0" src="../default/i/icon-pdf-a4.gif"></a></td></tr><tr><td height="2" colspan="2"><img height="2" width="1" src="../default/i/c.gif"></td></tr></table><table border="0" cellpadding="0" cellspacing="0" width="100%"><tr><td width="150" height="1" bgcolor="#000000" colspan="6"><img alt="" height="1" width="150" src="../default/i/c.gif"></td></tr><tr><td background="../default/i/sw-gold.gif"><a border="0" href="index.html" onMouseOver="iOver('topmain'); iOver('bottommain'); self.status=mainblurb; return true;" onMouseOut="iOut('topmain'); iOut('bottommain'); self.status=''; return true;"><img alt="Main menu" border="0" src="../default/i/main.gif" name="topmain"></a></td><td background="../default/i/sw-gold.gif"><a border="0" onMouseOver="iOver('topsection'); iOver('bottomsection'); self.status=sectionblurb; return true;" onMouseOut="iOut('topsection'); iOut('bottomsection'); self.status=''; return true;" href="index6.html"><img alt="Section menu" border="0" src="../default/i/section.gif" name="topsection"></a></td><td width="100%" background="../default/i/sw-gold.gif"><img src="../default/i/c.gif"></td><td background="../default/i/sw-gold.gif"><a border="0" onMouseOver="iOver('topprevious'); iOver('bottomprevious'); self.status=previousblurb; return true;" onMouseOut="iOut('topprevious'); iOut('bottomprevious'); self.status=''; return true;" href="tutorial-6-2.html"><img alt="Previous" border="0" src="../default/i/previous.gif" name="topprevious"></a></td><td background="../default/i/sw-gold.gif"><img border="0" src="../default/i/xnext.gif"></td></tr></table><table bgcolor="ffffff" cellspacing="0" cellpadding="2" border="0" height="400" width="100%"><tr valign="bottom"><td height="25" colspan="4"><img border="0" height="25" width="562" src="imagemaster/titlebar6.jpg" alt="6. Reading My Own Data in WaterAspects
"></td></tr><tr><td bgcolor="ffffff" width="15">&nbsp;</td><td bgcolor="ffffff" width="12">&nbsp;</td><td valign="top" align="left" bgcolor="ffffff" width="*"><p><br><table cellspacing="0" cellpadding="0" border="0"><tr><td width="90%"><font size="4" face="Arial, sans-serif"><b>Definition of a variable linked to the flow measurement</b></font></td><td width="200" align="right"><font size="1" face="Arial, sans-serif"><nobr>    page 3 of 3</nobr></font></td></tr></table><br><br></p><font size="2" face="Arial, sans-serif"><p xmlns:xi="http://www.w3.org/2003/XInclude" xmlns:xsi="http://www.w3.org/2000/10/XMLSchema-instance">Now it is time to process the data. For now we'll only consider the first <b>Time Stamped Data</b> component: "Measured Flow".</p><p xmlns:xi="http://www.w3.org/2003/XInclude" xmlns:xsi="http://www.w3.org/2000/10/XMLSchema-instance">We will link the flow to a variable and have it displayed. Once the time stamped data are related to a variable, all possibilities get open: process data via the Statistics module and e.g. get the monthly average flow or know how often the flow is over a certain value, control the emptying rate of a linear reservoir, etc... Stay tuned to the <a href="http://www.wateraspects.org/" target="_blank">Water<b>Aspects</b> user's community</a> to share your ideas and get new ones!</p><p xmlns:xi="http://www.w3.org/2003/XInclude" xmlns:xsi="http://www.w3.org/2000/10/XMLSchema-instance">Before linking the Time Stamped Data component to a variable, let's include a <b>Time Space</b> component so that we can run simulations. Add the time space by right-clicking "Project" and selecting 'New|Simulation|Time Space'. Set the time space's properties to start around the time for which we have data (otherwise all values will be 0!) i.e. 10 October 2004 11PM. The time step size is fully independent from the measurements frequency. We'll see later how to account for it.</p><img xmlns:xi="http://www.w3.org/2003/XInclude" xmlns:xsi="http://www.w3.org/2000/10/XMLSchema-instance" src="tutorialresources/org/wateraspects/examples/ReadingOwnDataFileTest/timeControllerProperties.PNG"><p xmlns:xi="http://www.w3.org/2003/XInclude" xmlns:xsi="http://www.w3.org/2000/10/XMLSchema-instance">Then add a <b>Variable</b> (New|Variable|Variable). The variable will represent the measured flow in the simulations. Therefore, the variable is renamed "Flow". The connection between the time stamped data and the variable is performed in the Variable Editor: right-click "Flow" and select 'Open variable editor'. Add a formulation of type <b>Observations</b> by clicking the 'Add' button. Then set this formulation as active. The measurement and the variable are connected by setting "Measured Flow" as 'Observation data'. Finally, how to interpret the observations is defined by the 'Conversion type'. The conversion types are defined in the following table:</p><table border="1"><tr><td width=""><font size="2" face="Arial, sans-serif">No conversion</font></td><td width=""><font size="2" face="Arial, sans-serif">There is a numerical value if and only if a measurement was made at the exact time of the time step</font></td></tr><tr><td width=""><font size="2" face="Arial, sans-serif">Linear interpolation</font></td><td width=""><font size="2" face="Arial, sans-serif">At time t, the value is either the value of the measurement at time t if such observation exists or a linear interpolation of the closest measurements</font></td></tr><tr><td width=""><font size="2" face="Arial, sans-serif">From tip times</font></td><td width=""><font size="2" face="Arial, sans-serif">This conversion type is to be chosen if the observations are related to a rain gauge's tip times</font></td></tr><tr><td width=""><font size="2" face="Arial, sans-serif">Last value</font></td><td width=""><font size="2" face="Arial, sans-serif">At time t, the value is either the value of the measurement at time t if such observation exists or the value at the previous time step</font></td></tr><tr><td width=""><font size="2" face="Arial, sans-serif">Intensities</font></td><td width=""><font size="2" face="Arial, sans-serif">This conversion type converts observation from intensity data into rain intensities in [mm/hr] and takes the water balance into consideration</font></td></tr><tr><td width=""><font size="2" face="Arial, sans-serif">Last value or maximum value in last time step</font></td><td width=""><font size="2" face="Arial, sans-serif">The value is either the last calculated value or the largest observation value in the previous time step</font></td></tr></table><p xmlns:xi="http://www.w3.org/2003/XInclude" xmlns:xsi="http://www.w3.org/2000/10/XMLSchema-instance">In our example, we choose a linear interpolation as correspondence between the measured flow and the variable. The connection between the observations and the variable is now performed. Just close the variable editor.</p><img xmlns:xi="http://www.w3.org/2003/XInclude" xmlns:xsi="http://www.w3.org/2000/10/XMLSchema-instance" src="tutorialresources/org/wateraspects/examples/ReadingOwnDataFileTest/variableFormulationProperties.PNG"><p xmlns:xi="http://www.w3.org/2003/XInclude" xmlns:xsi="http://www.w3.org/2000/10/XMLSchema-instance">The last step is to set "Flow"'s units to [m3/s] (as of now, the observations have no units and units are set at the variable level).</p><img xmlns:xi="http://www.w3.org/2003/XInclude" xmlns:xsi="http://www.w3.org/2000/10/XMLSchema-instance" src="tutorialresources/org/wateraspects/examples/ReadingOwnDataFileTest/variableProperties.PNG"><p xmlns:xi="http://www.w3.org/2003/XInclude" xmlns:xsi="http://www.w3.org/2000/10/XMLSchema-instance">Finally, click on the 'View' tab to display a graph of the flow versus time.</p><img xmlns:xi="http://www.w3.org/2003/XInclude" xmlns:xsi="http://www.w3.org/2000/10/XMLSchema-instance" src="tutorialresources/org/wateraspects/examples/ReadingOwnDataFileTest/variableGraph.PNG"><p xmlns:xi="http://www.w3.org/2003/XInclude" xmlns:xsi="http://www.w3.org/2000/10/XMLSchema-instance">You can now process your measurement data further...</p><br></font></td></tr></table><table border="0" cellpadding="0" cellspacing="0" width="100%"><tr><td background="../default/i/sw-gold.gif"><a border="0" href="index.html" onMouseOver="iOver('topmain'); iOver('bottommain'); self.status=mainblurb; return true;" onMouseOut="iOut('topmain'); iOut('bottommain'); self.status=''; return true;"><img alt="Main menu" border="0" src="../default/i/main.gif" name="bottommain"></a></td><td background="../default/i/sw-gold.gif"><a border="0" onMouseOver="iOver('topsection'); iOver('bottomsection'); self.status=sectionblurb; return true;" onMouseOut="iOut('topsection'); iOut('bottomsection'); self.status=''; return true;" href="index6.html"><img alt="Section menu" border="0" src="../default/i/section.gif" name="bottomsection"></a></td><td width="100%" background="../default/i/sw-gold.gif"><img src="../default/i/c.gif"></td><td background="../default/i/sw-gold.gif"><a border="0" onMouseOver="iOver('topprevious'); iOver('bottomprevious'); self.status=previousblurb; return true;" onMouseOut="iOut('topprevious'); iOut('bottomprevious'); self.status=''; return true;" href="tutorial-6-2.html"><img alt="Previous" border="0" src="../default/i/previous.gif" name="bottomprevious"></a></td><td background="../default/i/sw-gold.gif"><img border="0" src="../default/i/xnext.gif"></td></tr><tr><td width="150" height="1" bgcolor="#000000" colspan="6"><img alt="" height="1" width="150" src="../default/i/c.gif"></td></tr></table><table width="100%" cellspacing="0" cellpadding="0" border="0">
		<tr>
			<td bgcolor="#000099" width="100%" height="8px"></td>
		</tr>
	</table></body>
<!-- Mirrored from www.phc.dk/wateraspects/tutorial/tutorial-6-3.html by HTTrack Website Copier/3.x [XR&CO'2010], Fri, 27 Aug 2010 12:21:41 GMT -->
</html>